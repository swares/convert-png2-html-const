#!/bin/bash
# Convert PNG Icons to Embedded HTML Image const char prgm mem variables

# make sure file names do not have spaces
find -name "* *" -type f | rename 's/ /_/g'

# convert
for file in `ls -1 *.png`
do
  filename_in="${file%.*}"
  filename=`echo "${filename_in}" | tr - _`
  uuencode --base64 ${file} ${file} > ${file}.uu
  perl -pi -e "s/begin-base64 ... ${file}/<img src='data:image\/png;base64,/" ${file}.uu
#  perl -pi -e "s/^====$/' alt='${file}'>/" ${file}.uu
  perl -pi -e "s/^====$/' width='32' height='32' alt='${file}'>/" ${file}.uu
  perl -pi -e "s/\n//" ${file}.uu
  perl -pi -e "s/^/const static char *ui_${filename} = \"/" ${file}.uu
  perl -pi -e "s/$/\";\n/" ${file}.uu
done
cat *.uu > icons-set.uu.txt
rm -f *.uu

# Produces
# const static char *ui_alarm_button = "<img src='data:image/png;base64,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' alt='alarm-button.png'>";

# From
# begin-base64 770 16_colors.png
# iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAQUlEQVR42u3O
# sQ0AIAgEQGgd1xncW6MT0GFxH0L1yV9Gc/K+/a5QnqVa7JW18REJAAAAAAAA
# AAAAAAAAAPAHoDMHRjmWIaiJTHsAAAAASUVORK5CYII=
# ====
